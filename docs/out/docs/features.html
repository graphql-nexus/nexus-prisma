<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><title>Features - Docs | Nexus Prisma</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description"/><meta property="og:type" content="website"/><meta name="og:title"/><meta name="og:description"/><meta property="og:locale" content="en_US"/><meta property="og:site_name" content="Prisma Nexus"/><meta name="theme-color" content="#111111" media="(prefers-color-scheme: dark)"/><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/3d89c1342093a90b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3d89c1342093a90b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-4dc2921e155e6a75.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-3bbf41eefd51084e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-1283591e424e458e.js" defer=""></script><script src="/_next/static/chunks/912-8e307f291a7a72cc.js" defer=""></script><script src="/_next/static/chunks/pages/docs/features-be2d1a4f08ceee9b.js" defer=""></script><script src="/_next/static/zDVHEP4AneaV3B74jEYak/_buildManifest.js" defer=""></script><script src="/_next/static/zDVHEP4AneaV3B74jEYak/_ssgManifest.js" defer=""></script></head><body><a href="#reach-skip-nav" data-reach-skip-link="" data-reach-skip-nav-link="">Skip to content</a><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="nextra-container main-container flex flex-col"><script>try{if(localStorage.getItem("nextra-banner")==='0'){document.body.classList.add('nextra-banner-hidden')}}catch(e){}</script><div class="nextra-banner-container sticky top-0 z-20 flex h-10 items-center bg-neutral-900 pl-10 text-sm text-slate-50  dark:bg-[linear-gradient(1deg,#383838,#212121)] dark:text-white md:relative"><div class="mx-auto w-full max-w-[90rem] truncate whitespace-nowrap py-1 pl-[max(env(safe-area-inset-left),1.5rem)] pr-[max(env(safe-area-inset-right),1.5rem)] text-center font-medium"><a href="https://github.com/graphql-nexus/nexus-plugin-prisma/issues/1039" target="_blank" rel="noopener noreferrer" class="font-medium text-current no-underline" title="Go to the GitHub issue">⚠️ Currently in early preview - not to be used in production! Follow progress →</a></div><button class="mr-2 w-8 opacity-80 hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor" class="h4 mx-auto w-4"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><div class="nextra-nav-container sticky top-0 z-20 w-full bg-transparent"><div class="nextra-nav-container-blur pointer-events-none absolute h-full w-full bg-white dark:bg-dark"></div><nav class="left-0 right-0 mx-auto flex h-16 max-w-[90rem] items-center gap-2 pl-[max(env(safe-area-inset-left),1.5rem)] pr-[max(env(safe-area-inset-right),1.5rem)]"><div class="mr-2 flex flex-auto items-center"><a class="inline-flex items-center text-current no-underline hover:opacity-75" href="/"><div class="flex items-center justify-center"><svg width="4em" height="4em" viewBox="0 0 530 192" preserveAspectRatio="xMidYMid meet" aria-label="Nexus Prisma Logo" fill="#0099FF"><path d="M446.933 2.26666C445.333 3.59999 427.467 31.6 407.2 64.4C376.133 114.8 370.533 124.8 371.067 128C372 132.4 405.467 184.8 410.133 189.067C412 190.667 414.533 192 415.733 192C416.933 192 441.733 185.067 470.667 176.533C505.2 166.267 524.4 160 526.4 158.267C528 156.667 529.333 154 529.333 151.867C529.333 146.667 463.467 6.79999 459.2 2.93332C455.2 -0.53334 450.667 -0.800003 446.933 2.26666ZM488.133 86C504.133 119.733 517.2 147.6 517.2 148C517.467 150.8 509.733 153.6 470.533 165.2C435.067 175.733 425.6 178.133 424.267 176.8C422.933 175.467 425.467 161.2 438 101.2C446.4 60.5333 453.6 26.5333 454 25.6C456.133 19.7333 460.267 27.0667 488.133 86Z"></path><path d="M80.1333 23.0667C68.5333 26.8 60.8 41.4667 64 53.4667C64.9333 56.6667 66.1333 60 66.6667 60.6667C67.3333 61.4667 60.4 73.4667 49.3333 90.4L30.6667 118.667H25.7333C0.400002 118.8 -8.93333 152.267 12.4 166.4C16.8 169.333 19.3333 170 26.1333 170C33.2 170 35.3333 169.467 40.2667 166C51.3333 158.267 54.9333 144.8 48.9333 132.933L45.8667 126.933L63.6 99.7333L81.3333 72.6667L87.4667 73.0667L93.4667 73.6L106.8 100.133L120 126.667L117.067 130.667C112.8 136.533 112.133 148.533 115.733 155.6C123.333 170.4 141.2 174.933 154.4 165.333C164.133 158.4 167.6 145.867 163.2 134.667C161.067 129.467 161.067 129.2 164.267 124.267C166.133 121.6 168.533 117.733 169.867 115.733L172.133 112.133L165.2 107.467L158.133 102.8L152.667 111.067L147.067 119.333L140.8 118.933L134.667 118.4L121.333 91.8667L107.867 65.2L110.933 61.0667C115.2 55.0667 115.867 43.4667 112.267 36.5333C105.867 24 93.4667 18.8 80.1333 23.0667Z"></path><path d="M194.267 22.6667C188.133 24.5333 181.2 30.6667 178.533 36.5333C175.067 44.1333 175.333 51.6 179.2 59.3333L182.533 65.7333L177.2 73.4667C174.4 77.7333 172 81.4667 172 81.7333C172 83.2 185.333 90.8 186.533 90.1333C187.2 89.6 190 85.7333 192.667 81.3333C197.2 73.8667 197.867 73.3333 202.533 73.3333C214.267 73.3333 226.533 62.4 227.733 50.9333C229.6 31.4667 212.533 17.2 194.267 22.6667ZM209.333 40C210.933 41.6 212 44.4 212 47.3333C212 50.2667 210.933 53.0667 209.333 54.6667C207.733 56.2667 204.933 57.3333 202 57.3333C199.067 57.3333 196.267 56.2667 194.667 54.6667C193.067 53.0667 192 50.2667 192 47.3333C192 44.4 193.067 41.6 194.667 40C196.267 38.4 199.067 37.3333 202 37.3333C204.933 37.3333 207.733 38.4 209.333 40Z"></path><path d="M279 87V69H290V87H308V98H290V116H279V98H261V87H279Z"></path></svg><div class="ml-2">Nexus Prisma</div></div></a></div><div class="flex-1"></div><a class="nextra-nav-link -ml-2 hidden whitespace-nowrap p-2 no-underline md:inline-block active subpixel-antialiased text-current" aria-selected="true" href="/docs">Docs</a><a class="nextra-nav-link -ml-2 hidden whitespace-nowrap p-2 no-underline md:inline-block text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200" aria-selected="false" href="/roadmap">Roadmap</a><div><div class="hidden md:inline-block"><div class="nextra-search nextra-flexsearch relative w-full md:w-64"><div class="relative flex items-center"><input class="block w-full appearance-none rounded-lg px-3 py-2 leading-tight transition-colors focus:bg-white focus:outline-none focus:ring-1 focus:ring-gray-200 dark:focus:bg-dark dark:focus:ring-gray-100/20" type="search" placeholder="Search documentation..." spellcheck="false"/><div class="pointer-events-none absolute inset-y-0 right-0 hidden select-none py-1.5 pr-1.5 sm:flex"><kbd class="inline-flex items-center rounded border bg-white px-1.5 font-mono text-sm font-medium text-gray-400 dark:border-gray-100/20 dark:bg-dark/50 dark:text-gray-500">/</kbd></div></div></div></div></div><a href="https://github.com/prisma/nexus-prisma" target="_blank" rel="noreferrer" aria-selected="false" class="p-2 text-current"><svg width="24" height="24" fill="currentColor" viewBox="3 3 18 18" aria-hidden="true"><title>GitHub</title><path d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"></path></svg><span class="sr-only">GitHub</span></a><button class="nextra-menu-icon block p-2 -mr-2 md:hidden"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" class=""><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16"></path></g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12h16"></path><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 18h16"></path></g></svg></button></nav></div><div class="mx-auto flex w-full flex-1 items-stretch max-w-[90rem]"><div class="flex w-full flex-1"><aside class="nextra-sidebar-container nextra-scrollbar fixed top-16 z-[15] h-[calc(100vh-4rem)] w-full flex-shrink-0 self-start overflow-y-auto md:sticky md:w-64 md:block with-menu"><div class="nextra-sidebar h-full w-full select-none pl-[calc(env(safe-area-inset-left)-1.5rem)] md:h-auto"><div class="min-h-[calc(100vh-4rem-61px)] p-4"><div class="nextra-sidebar-search mb-4 block md:hidden"><div class="nextra-search nextra-flexsearch relative w-full md:w-64"><div class="relative flex items-center"><input class="block w-full appearance-none rounded-lg px-3 py-2 leading-tight transition-colors focus:bg-white focus:outline-none focus:ring-1 focus:ring-gray-200 dark:focus:bg-dark dark:focus:ring-gray-100/20" type="search" placeholder="Search documentation..." spellcheck="false"/><div class="pointer-events-none absolute inset-y-0 right-0 hidden select-none py-1.5 pr-1.5 sm:flex"><kbd class="inline-flex items-center rounded border bg-white px-1.5 font-mono text-sm font-medium text-gray-400 dark:border-gray-100/20 dark:bg-dark/50 dark:text-gray-500">/</kbd></div></div></div></div><div class="hidden md:block"><ul><li class=""><a class="break-words" href="/docs">Introduction</a></li><li class=""><a class="break-words" href="/docs/usage">Usage</a></li><li class="active"><a class="break-words" href="/docs/features">Features</a></li><li class="open"><a class="cursor-pointer !flex items-center justify-between [word-break:break-word]" href="/docs/features">Settings<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" height="1em" class="ml-2 h-[18px] min-w-[18px] rounded-sm p-[2px] hover:bg-gray-800/5 dark:hover:bg-gray-100/5 [&amp;&gt;path]:origin-center [&amp;&gt;path]:transition-transform [&amp;&gt;path]:rotate-90"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a><div class="transform-gpu overflow-hidden transition-all duration-300 ease-in-out motion-reduce:transition-none"><div class="nextra-collapse-content transform-gpu overflow-hidden transition-opacity duration-500 ease-in-out motion-reduce:transition-none" style="opacity:1"><ul><li class=""><a class="break-words" href="/docs/settings/gentime">Gentime</a></li><li class=""><a class="break-words" href="/docs/settings/runtime">Runtime</a></li></ul></div></div></li><li class=""><a class="break-words" href="/docs/recipes">Recipes</a></li><li class=""><a class="break-words" href="/docs/notes">Notes</a></li><li class=""><a class="break-words" href="/docs/architecture">Architecture</a></li></ul></div><div class="md:hidden"><ul><li class="open"><a class="cursor-pointer !flex items-center justify-between [word-break:break-word]" href="/docs/features">Docs<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" height="1em" class="ml-2 h-[18px] min-w-[18px] rounded-sm p-[2px] hover:bg-gray-800/5 dark:hover:bg-gray-100/5 [&amp;&gt;path]:origin-center [&amp;&gt;path]:transition-transform [&amp;&gt;path]:rotate-90"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a><div class="transform-gpu overflow-hidden transition-all duration-300 ease-in-out motion-reduce:transition-none"><div class="nextra-collapse-content transform-gpu overflow-hidden transition-opacity duration-500 ease-in-out motion-reduce:transition-none" style="opacity:1"><ul><li class=""><a class="break-words" href="/docs">Introduction</a></li><li class=""><a class="break-words" href="/docs/usage">Usage</a></li><li class="active"><a class="break-words" href="/docs/features">Features</a><ul><li><a href="#type-safe-generated-library-code" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">Type-safe Generated Library Code</a></li><li><a href="#project-enums" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">Project Enums</a></li><li><a href="#project-scalars" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">Project Scalars</a></li><li><a href="#project-relations" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">Project Relations</a></li><li><a href="#project-11-relation" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">Project 1:1 Relation</a></li><li><a href="#project-1n-relation" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">Project 1:n Relation</a></li><li><a href="#projecting-nullability" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">Projecting Nullability</a></li><li><a href="#prisma-schema-docs-propagation" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">Prisma Schema Docs Propagation</a></li><li><a href="#esm-support" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">ESM Support</a></li><li><a href="#refined-dx" class="!flex text-sm w-full [word-break:break-word] before:opacity-25 before:mr-2 before:content-[&quot;#&quot;]">Refined DX</a></li></ul></li><li class="open"><a class="cursor-pointer !flex items-center justify-between [word-break:break-word]" href="/docs/features">Settings<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" height="1em" class="ml-2 h-[18px] min-w-[18px] rounded-sm p-[2px] hover:bg-gray-800/5 dark:hover:bg-gray-100/5 [&amp;&gt;path]:origin-center [&amp;&gt;path]:transition-transform [&amp;&gt;path]:rotate-90"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a><div class="transform-gpu overflow-hidden transition-all duration-300 ease-in-out motion-reduce:transition-none"><div class="nextra-collapse-content transform-gpu overflow-hidden transition-opacity duration-500 ease-in-out motion-reduce:transition-none" style="opacity:1"><ul><li class=""><a class="break-words" href="/docs/settings/gentime">Gentime</a></li><li class=""><a class="break-words" href="/docs/settings/runtime">Runtime</a></li></ul></div></div></li><li class=""><a class="break-words" href="/docs/recipes">Recipes</a></li><li class=""><a class="break-words" href="/docs/notes">Notes</a></li><li class=""><a class="break-words" href="/docs/architecture">Architecture</a></li></ul></div></div></li><li class=""><a class="break-words" href="/roadmap">Roadmap</a></li></ul></div></div><div class="nextra-sidebar-menu mx-4 border-t shadow-[0_-12px_16px_white] dark:border-neutral-800 dark:shadow-[0_-12px_16px_#111]"><div class="flex gap-1 bg-white py-4 pb-4 dark:bg-dark"><div class="relative md:hidden flex-1"><button class="h-7 w-full cursor-pointer rounded-md px-2 text-left text-xs font-medium text-gray-600 transition-colors focus:outline-none dark:text-gray-400 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-primary-100/5 dark:hover:text-gray-50" id="headlessui-listbox-button-:Rpl2t6:" type="button" aria-haspopup="true" aria-expanded="false"><div class="flex items-center gap-2 capitalize"><svg fill="none" viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" class="h-4 w-4 [&amp;&gt;path]:fill-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span>light</span></div></button></div><div class="relative hidden md:block flex-1"><button class="h-7 w-full cursor-pointer rounded-md px-2 text-left text-xs font-medium text-gray-600 transition-colors focus:outline-none dark:text-gray-400 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-primary-100/5 dark:hover:text-gray-50" id="headlessui-listbox-button-:Rql2t6:" type="button" aria-haspopup="true" aria-expanded="false"><div class="flex items-center gap-2 capitalize"><svg fill="none" viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" class="h-4 w-4 [&amp;&gt;path]:fill-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span>light</span></div></button></div></div></div></div></aside><div class="nextra-toc order-last hidden w-64 flex-shrink-0 px-4 text-sm xl:block"><div class="nextra-toc-content sticky top-16 -mr-4 max-h-[calc(100vh-4rem-env(safe-area-inset-bottom))] overflow-y-auto pr-4 pt-8"><ul><p class="mb-4 font-semibold tracking-tight">On This Page</p><li class="scroll-my-6 scroll-py-6"><a href="#type-safe-generated-library-code" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Type-safe Generated Library Code</a></li><li class="scroll-my-6 scroll-py-6"><a href="#project-enums" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Project Enums</a></li><li class="scroll-my-6 scroll-py-6"><a href="#project-scalars" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Project Scalars</a></li><li class="scroll-my-6 scroll-py-6"><a href="#project-relations" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Project Relations</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#example-exposing-prisma-client-on-graphql-context-with-apollo-server" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Example: Exposing Prisma Client on GraphQL Context with Apollo Server</a></li><li class="scroll-my-6 scroll-py-6"><a href="#project-11-relation" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Project 1:1 Relation</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#example-tests" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Example: Tests</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#example-full-11" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Example: Full 1:1</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#limitation-nullable-on-without-relation-scalar-side" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Limitation: Nullable on Without-Relation-Scalar Side</a></li><li class="scroll-my-6 scroll-py-6"><a href="#project-1n-relation" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Project 1:n Relation</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#example-tests-1" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Example: Tests</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#example-full-1n" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Example: Full 1:n</a></li><li class="scroll-my-6 scroll-py-6"><a href="#projecting-nullability" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Projecting Nullability</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#prisma-client-rejectonnotfound-handling" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Prisma Client rejectOnNotFound Handling</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#related-issues" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Related Issues</a></li><li class="scroll-my-6 scroll-py-6"><a href="#prisma-schema-docs-propagation" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Prisma Schema Docs Propagation</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#as-graphql-schema-doc" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">As GraphQL schema doc</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#as-jsdoc" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">As JSDoc</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#rich-formatting" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Rich Formatting</a></li><li class="scroll-my-6 scroll-py-6"><a href="#esm-support" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">ESM Support</a></li><li class="scroll-my-6 scroll-py-6"><a href="#refined-dx" class="inline-block no-underline font-semibold text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Refined DX</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#jsdoc" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">JSDoc</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#default-runtime" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Default Runtime</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#peer-dependency-validation" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Peer-Dependency Validation</a></li><li class="scroll-my-6 scroll-py-6 ml-4"><a href="#auto-import-optimized" class="inline-block no-underline text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300">Auto-Import Optimized</a></li></ul><div class="nextra-toc-meta mt-8 border-t bg-white pt-8 shadow-[0_-12px_16px_white] dark:bg-dark dark:shadow-[0_-12px_16px_#111] sticky bottom-0 pb-8 dark:border-neutral-800"><a href="https://github.com/prisma/nexus-prisma/issues/new?title=Feedback%20for%20%E2%80%9CFeatures%20-%20Docs%E2%80%9D&amp;labels=" target="_blank" rel="noreferrer" aria-selected="false" class="mb-2 block text-xs font-medium text-gray-500 no-underline hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100">Question? Give us feedback →</a><a href="https://github.com/prisma/nexus-prisma/blob/main/docs/pages/docs/features.mdx" target="_blank" rel="noreferrer" aria-selected="false" class="mb-2 block text-xs font-medium text-gray-500 no-underline hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100">Edit this page on GitHub</a></div></div></div><div id="reach-skip-nav" data-reach-skip-nav-content=""></div><article class="nextra-body relative flex w-full min-w-0 max-w-full justify-center pb-8 pr-[calc(env(safe-area-inset-right)-1.5rem)] nextra-body-typesetting-default"><main class="z-10 w-full min-w-0 max-w-4xl px-6 pt-4 md:px-8"><div class="nextra-breadcrumb mt-2.5 flex cursor-default overflow-hidden text-sm font-normal text-gray-500 transition-colors"><div class="transition-colors whitespace-nowrap min-w-[24px] overflow-hidden text-ellipsis" title="Docs">Docs</div><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" width="14" class="mx-1 select-none"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg><div class="transition-colors whitespace-nowrap active text-gray-600 dark:text-gray-400" title="Features">Features</div></div><h1>Features</h1>
<div class="bg-orange-50 border border-orange-100 text-orange-800 dark:text-orange-300 dark:bg-orange-400/20 dark:border-orange-400/30 nextra-callout mt-6 flex rounded-lg"><div class="select-none py-2 pl-3 pr-2 text-xl" style="font-family:&quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;">💡</div><div class="py-2 pr-4"><p>The following use abbreviated examples that skip a complete setup of passing Nexus type definition to Nexus&#x27;
<code>makeSchema</code>. If you are new to Nexus, consider reading the <a href="https://nexusjs.org/docs" target="_blank" rel="noreferrer" aria-selected="false">official Nexus
tutorial</a> before jumping into Nexus Prisma.</p></div></div>
<h2><span class="subheading-anchor -mt-20" id="type-safe-generated-library-code"></span><a href="#type-safe-generated-library-code">Type-safe Generated Library Code</a></h2>
<p>Following the same philosophy as Prisma Client, Nexus Prisma uses generation to create an API that feels tailor made for your project.</p>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="prisma" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id  </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">@id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { User } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus-prisma&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { objectType } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus&#x27;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">objectType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.$name</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  description: </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.$description</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    t.field({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      type</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.</span><span style="color:var(--shiki-token-constant)">id</span><span style="color:var(--shiki-color-text)">.type</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      description</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.</span><span style="color:var(--shiki-token-constant)">id</span><span style="color:var(--shiki-color-text)">.description</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    })</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<h2><span class="subheading-anchor -mt-20" id="project-enums"></span><a href="#project-enums">Project Enums</a></h2>
<p>Every enum defined in your Prisma schema becomes importable as a Nexus enum type definition configuration. This makes it trivial to project enums from your database layer into your API layer.</p>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="prisma" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">enum</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">SomeEnum</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  foo</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  bar</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { SomeEnum } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus-prisma&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { enumType } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus&#x27;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-constant)">SomeEnum</span><span style="color:var(--shiki-color-text)">.name </span><span style="color:var(--shiki-token-comment)">//    &#x27;SomeEnum&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-token-constant)">SomeEnum</span><span style="color:var(--shiki-color-text)">.members </span><span style="color:var(--shiki-token-comment)">// [&#x27;foo&#x27;, &#x27;bar&#x27;]</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">enumType</span><span style="color:var(--shiki-color-text)">(SomeEnum)</span></span></code></pre></div>
<h2><span class="subheading-anchor -mt-20" id="project-scalars"></span><a href="#project-scalars">Project Scalars</a></h2>
<p>Like GraphQL, <a href="https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference/#model-field-scalar-types" target="_blank" rel="noreferrer" aria-selected="false">Prisma has the concept of scalar types</a>. Some of the Prisma scalars can be naturally mapped to standard GraphQL scalars. The mapping is as follows:</p>
<p><strong>Prisma Standard Scalar to GraphQL Standard Scalar Mapping</strong></p>
<div class="table-container"><table><thead><tr><th>Prisma</th><th>GraphQL</th></tr></thead><tbody><tr><td><code>Boolean</code></td><td><code>Boolean</code></td></tr><tr><td><code>String</code></td><td><code>String</code></td></tr><tr><td><code>Int</code></td><td><code>Int</code></td></tr><tr><td><code>Float</code></td><td><code>Float</code></td></tr><tr><td><code>String</code> with <code>@id</code></td><td><code>ID</code></td></tr><tr><td><code>Int</code> with <code>@id</code></td><td><code>ID</code> | <code>Int</code> (<a href="/docs/features#projectidinttographql-id--int">configurable</a>)</td></tr></tbody></table></div>
<p>However some of the Prisma scalars do not have a natural standard representation in GraphQL. For these cases Nexus Prisma generates code that references type names matching those scalar names in Prisma. Then, you are expected to define those custom scalar types in your GraphQL API. Nexus Prisma ships with pre-defined mappings in <code>nexus-prisma/scalars</code> you <em>can</em> use for convenience. The mapping is as follows:</p>
<p><strong>Prisma Standard-Scalar to GraphQL Custom-Scalar Mapping</strong></p>
<div class="table-container"><table><thead><tr><th>Prisma</th><th>GraphQL</th><th>Nexus <code>t</code> Helper</th><th>GraphQL Scalar Implementation</th><th>Additional Info</th></tr></thead><tbody><tr><td><code>Json</code></td><td><code>Json</code></td><td><code>json</code></td><td><a href="https://www.graphql-scalars.dev/docs/scalars/jsonobject" target="_blank" rel="noreferrer" aria-selected="false">JsonObject</a></td><td></td></tr><tr><td><code>DateTime</code></td><td><code>DateTime</code></td><td><code>dateTime</code></td><td><a href="https://www.graphql-scalars.dev/docs/scalars/datetime" target="_blank" rel="noreferrer" aria-selected="false">DateTime</a></td><td></td></tr><tr><td><code>BigInt</code></td><td><code>BigInt</code></td><td><code>bigInt</code></td><td><a href="https://www.graphql-scalars.dev/docs/scalars/big-int" target="_blank" rel="noreferrer" aria-selected="false">BigInt</a></td><td><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer" aria-selected="false">JavaScript BigInt</a></td></tr><tr><td><code>Bytes</code></td><td><code>Bytes</code></td><td><code>bytes</code></td><td><a href="https://www.graphql-scalars.dev/docs/scalars/byte/" target="_blank" rel="noreferrer" aria-selected="false">Byte</a></td><td><a href="https://nodejs.org/api/buffer.html#buffer_buffer" target="_blank" rel="noreferrer" aria-selected="false">Node.js Buffer</a></td></tr><tr><td><code>Decimal</code></td><td><code>Decimal</code></td><td><code>decimal</code></td><td>(internal)</td><td>Uses <a href="https://github.com/MikeMcl/decimal.js" target="_blank" rel="noreferrer" aria-selected="false">Decimal.js</a></td></tr></tbody></table></div>
<div class="bg-orange-50 border border-orange-100 text-orange-800 dark:text-orange-300 dark:bg-orange-400/20 dark:border-orange-400/30 nextra-callout mt-6 flex rounded-lg"><div class="select-none py-2 pl-3 pr-2 text-xl" style="font-family:&quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;">💡</div><div class="py-2 pr-4">Not all Prisma scalar mappings are implemented yet: <code>Unsupported</code></div></div>
<div class="bg-orange-50 border border-orange-100 text-orange-800 dark:text-orange-300 dark:bg-orange-400/20 dark:border-orange-400/30 nextra-callout mt-6 flex rounded-lg"><div class="select-none py-2 pl-3 pr-2 text-xl" style="font-family:&quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;">💡</div><div class="py-2 pr-4"><p>BigInt is supported in Node.js since version
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt#browser_compatibility" target="_blank" rel="noreferrer" aria-selected="false">10.4.0</a>
however to support BigInt in <code>JSON.parse</code>/<code>JSON.stringify</code> you must use
<a href="https://github.com/ardatan/json-bigint-patch" target="_blank" rel="noreferrer" aria-selected="false"><code>json-bigint-patch</code></a> otherwise BigInt values will be
serialized as strings.</p></div></div>
<p>You can use your own GraphQL Scalar Implementation, however, you <em>must adhere to the above Prisma/GraphQL name mapping defined above</em>.</p>
<p>Here is an example using Nexus Prisma&#x27;s pre-defined GraphQL custom scalars:</p>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> NexusPrismaScalars </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus-prisma/scalars&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { makeSchema } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus&#x27;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">makeSchema</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  types</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> [NexusPrismaScalars]</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<p>There is a <a href="/docs/features#Supply-custom-custom-scalars-to-your-GraphQL-schema">recipe below</a> showing how to add your own custom scalars if you want.</p>
<h2><span class="subheading-anchor -mt-20" id="project-relations"></span><a href="#project-relations">Project Relations</a></h2>
<p>You can project <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations" target="_blank" rel="noreferrer" aria-selected="false">relations</a> into your API with Nexus Prisma. Nexus Prisma even includes the resolver you&#x27;ll need at runtime to fulfill the projection by automating use of your Prisma Client instance.</p>
<p>Please note that not all kinds of relationships are supported yet. Details about projecting each kind of relation are documented in their respective sections. This section only contains general documentation common to all.</p>
<p>To project relations you must by default expose an instance of Prisma Client on the GraphQL context under the key name <code>prisma</code>. You can <a href="/docs/features#prismaclientcontextfield-string">customize which context property Nexus Prisma should look for your Prisma Client</a>.</p>
<h3><span class="subheading-anchor -mt-20" id="example-exposing-prisma-client-on-graphql-context-with-apollo-server"></span><a href="#example-exposing-prisma-client-on-graphql-context-with-apollo-server">Example: Exposing Prisma Client on GraphQL Context with Apollo Server</a></h3>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { ApolloServer } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;apollo-server&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { PrismaClient } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;@prisma/client&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> schema </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;./your/schema/somewhere&#x27;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">prisma</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">new</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">PrismaClient</span><span style="color:var(--shiki-color-text)">()</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">new</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">ApolloServer</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  schema</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">context</span><span style="color:var(--shiki-color-text)">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      prisma</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<h2><span class="subheading-anchor -mt-20" id="project-11-relation"></span><a href="#project-11-relation">Project 1:1 Relation</a></h2>
<p>You can project <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations#one-to-one-relations" target="_blank" rel="noreferrer" aria-selected="false">1:1 relationships</a> into your API.</p>
<h3><span class="subheading-anchor -mt-20" id="example-tests"></span><a href="#example-tests">Example: Tests</a></h3>
<p>The integration test suite is a useful reference as it is declarative (easy to read) and gives a known-working example spanning from database all the way to executed GraphQL document.</p>
<ul>
<li><a href="https://github.com/prisma/nexus-prisma/blob/main/tests/integration/relation1To1.test.ts" target="_blank" rel="noreferrer" aria-selected="false">Tests</a></li>
<li><a href="https://github.com/prisma/nexus-prisma/blob/main/tests/integration/__snapshots__/relation1To1.test.ts.snap" target="_blank" rel="noreferrer" aria-selected="false">Snapshots</a></li>
</ul>
<h3><span class="subheading-anchor -mt-20" id="example-full-11"></span><a href="#example-full-11">Example: Full 1:1</a></h3>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="prisma" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">// Database Schema</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id         </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">@id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  profile    Profile </span><span style="color:var(--shiki-token-function)">@relation</span><span style="color:var(--shiki-color-text)">(fields: [</span><span style="color:var(--shiki-token-constant)">profileId</span><span style="color:var(--shiki-color-text)">], references: [</span><span style="color:var(--shiki-token-constant)">id</span><span style="color:var(--shiki-color-text)">])</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  profileId  </span><span style="color:var(--shiki-token-constant)">String</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Profile</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id      </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">@id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  user    User</span><span style="color:var(--shiki-token-keyword)">?</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">// API Schema</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { User</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> Profile } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus-prisma&#x27;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">queryType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">nonNull</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">list</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">nonNull</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&#x27;users&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      type</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;User&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">resolve</span><span style="color:var(--shiki-color-text)">(_</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> __</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> ctx) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">ctx</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">prisma</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">user</span><span style="color:var(--shiki-token-function)">.findMany</span><span style="color:var(--shiki-color-text)">()</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    })</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">objectType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.$name</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.id)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.profile)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">objectType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">Profile</span><span style="color:var(--shiki-color-text)">.$name</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">Profile</span><span style="color:var(--shiki-color-text)">.id)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="graphql" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)"># API Schema Represented in GraphQL SDL (this is generated by Nexus)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">Query</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  users: [</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-color-text)">]</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id: </span><span style="color:var(--shiki-token-constant)">ID</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  profile: </span><span style="color:var(--shiki-token-constant)">Profile</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">Profile</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id: </span><span style="color:var(--shiki-token-constant)">ID</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">// Example Database Data (for following example)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">await</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">prisma</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">user</span><span style="color:var(--shiki-token-function)">.create</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  data</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    id</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;user1&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    profile</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      create</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        id</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;profile1&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="graphql" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)"># Example API Client Query</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">query</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  users {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    profile {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="json" data-theme="default"><span class="line"><span style="color:var(--shiki-color-text)">{</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">&quot;data&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">&quot;users&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> [</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;user1&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">&quot;profile&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">          </span><span style="color:var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;profile1&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    ]</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<h3><span class="subheading-anchor -mt-20" id="limitation-nullable-on-without-relation-scalar-side"></span><a href="#limitation-nullable-on-without-relation-scalar-side">Limitation: Nullable on Without-Relation-Scalar Side</a></h3>
<p>Prisma requires that a 1:1 relationship has one side that is optional. For example in the following it is <strong>not</strong> possible for <code>Profile</code> to have a required relationship to <code>User</code>. For more detail you can read the Prisma docs about this <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations#one-to-one-relations" target="_blank" rel="noreferrer" aria-selected="false">here</a>.</p>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="prisma" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id         </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">@id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  profile    Profile </span><span style="color:var(--shiki-token-function)">@relation</span><span style="color:var(--shiki-color-text)">(fields: [</span><span style="color:var(--shiki-token-constant)">profileId</span><span style="color:var(--shiki-color-text)">], references: [</span><span style="color:var(--shiki-token-constant)">id</span><span style="color:var(--shiki-color-text)">])</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  profileId  </span><span style="color:var(--shiki-token-constant)">String</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Profile</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id      </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">@id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  user    User</span><span style="color:var(--shiki-token-keyword)">?</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">// &lt;--  &quot;?&quot; required</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<p>Prisma inherits this limitation from databases. In turn Nexus Prisma inherits this limitation from Prisma. For example consider this projection and then look at the resulting GraphQL SDL representation.</p>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { User</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> Profile } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus-prisma&#x27;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">objectType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.$name</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.id)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.profile)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">objectType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">Profile</span><span style="color:var(--shiki-color-text)">.$name</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">Profile</span><span style="color:var(--shiki-color-text)">.id)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.profile)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="graphql" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id: </span><span style="color:var(--shiki-token-constant)">ID</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  profile: </span><span style="color:var(--shiki-token-constant)">Profile</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">Profile</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id: </span><span style="color:var(--shiki-token-constant)">ID</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  user: </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-token-comment)"> # &lt;-- Nullable!</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<p>This limitation may be a problem for your API. There is an <a href="https://github.com/prisma/nexus-prisma/issues/34" target="_blank" rel="noreferrer" aria-selected="false">issue track this that you can subscribe to</a> if interested. As a workaround for now you can do this:</p>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-function)">objectType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">Profile</span><span style="color:var(--shiki-color-text)">.$name</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">Profile</span><span style="color:var(--shiki-color-text)">.id)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-keyword)">...</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.profile</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      type</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">nonNull</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.</span><span style="color:var(--shiki-token-constant)">profile</span><span style="color:var(--shiki-color-text)">.type)</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    })</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<h2><span class="subheading-anchor -mt-20" id="project-1n-relation"></span><a href="#project-1n-relation">Project 1:n Relation</a></h2>
<p>You can project <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations#one-to-many-relations" target="_blank" rel="noreferrer" aria-selected="false">1:n relationships</a> into your API.</p>
<h3><span class="subheading-anchor -mt-20" id="example-tests-1"></span><a href="#example-tests-1">Example: Tests</a></h3>
<p>The integration test suite is a useful reference as it is declarative (easy to read) and gives a known-working example spanning from database all the way to executed GraphQL document.</p>
<ul>
<li><a href="https://github.com/prisma/nexus-prisma/blob/main/tests/integration/relation1ToN.test.ts" target="_blank" rel="noreferrer" aria-selected="false">Tests</a></li>
<li><a href="https://github.com/prisma/nexus-prisma/blob/main/tests/integration/__snapshots__/relation1ToN.test.ts.snap" target="_blank" rel="noreferrer" aria-selected="false">Snapshots</a></li>
</ul>
<h3><span class="subheading-anchor -mt-20" id="example-full-1n"></span><a href="#example-full-1n">Example: Full 1:n</a></h3>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="prisma" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">// Database Schema</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id         </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">@id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  posts      Post</span><span style="color:var(--shiki-token-keyword)">[]</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Post</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id        </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">@id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  author    User</span><span style="color:var(--shiki-token-keyword)">?</span><span style="color:var(--shiki-color-text)">   </span><span style="color:var(--shiki-token-function)">@relation</span><span style="color:var(--shiki-color-text)">(fields: [</span><span style="color:var(--shiki-token-constant)">authorId</span><span style="color:var(--shiki-color-text)">], references: [</span><span style="color:var(--shiki-token-constant)">id</span><span style="color:var(--shiki-color-text)">])</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  authorId  </span><span style="color:var(--shiki-token-constant)">String</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">// API Schema</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { User</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> Post } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus-prisma&#x27;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">queryType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">nonNull</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">list</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">nonNull</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&#x27;users&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      type</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;User&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      </span><span style="color:var(--shiki-token-function)">resolve</span><span style="color:var(--shiki-color-text)">(_</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> __</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> ctx) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">ctx</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">prisma</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">user</span><span style="color:var(--shiki-token-function)">.findMany</span><span style="color:var(--shiki-color-text)">()</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    })</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">objectType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.$name</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.id)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.posts)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">objectType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">Post</span><span style="color:var(--shiki-color-text)">.$name</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-constant)">t</span><span style="color:var(--shiki-token-function)">.field</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">Post</span><span style="color:var(--shiki-color-text)">.id)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="graphql" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)"># API Schema Represented in GraphQL SDL (this is generated by Nexus)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">Query</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  users: [</span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">]</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id: </span><span style="color:var(--shiki-token-constant)">ID</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  posts: [</span><span style="color:var(--shiki-token-constant)">Post</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-color-text)">]</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">Post</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id: </span><span style="color:var(--shiki-token-constant)">ID</span><span style="color:var(--shiki-token-keyword)">!</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">// Example Database Data (for following example)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">await</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">prisma</span><span style="color:var(--shiki-token-function)">.</span><span style="color:var(--shiki-token-constant)">user</span><span style="color:var(--shiki-token-function)">.create</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  data</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    id</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;user1&#x27;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    posts</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      create</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> [{ id</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;post1&#x27;</span><span style="color:var(--shiki-color-text)"> }</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> { id</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;post2&#x27;</span><span style="color:var(--shiki-color-text)"> }]</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="graphql" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)"># Example API Client Query</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">query</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  users {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    posts {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="json" data-theme="default"><span class="line"><span style="color:var(--shiki-color-text)">{</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">&quot;data&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">&quot;users&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> [</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;user1&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">&quot;posts&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> [</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">          {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;post1&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">          }</span><span style="color:var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">          {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-keyword)">&quot;id&quot;</span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;post2&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">          }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        ]</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">      }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    ]</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<h2><span class="subheading-anchor -mt-20" id="projecting-nullability"></span><a href="#projecting-nullability">Projecting Nullability</a></h2>
<p>Currently nullability projection is not configurable. This section describes how Nexus Prisma handles it.</p>
<pre><code>                      Nexus Prisma Projects
                                │
                                │
DB Layer (Prisma)           → → ┴ → →           API Layer (GraphQL)
–––––––––––––––––                               –––––––––––––––––––

Nullable Field Relation                         Nullable Field Relation

model A {                                       type A {
  foo Foo?                                        foo: Foo
}                                               }



Non-Nullable Field Relation                     Non-Nullable Field Relation

model A {                                       type A {
  foo Foo                                         foo: Foo!
}                                               }



List Field Relation                             Non-Nullable Field Relation Within Non-Nullable List

model A {                                       type A {
  foos Foo[]                                      foo: [Foo!]!
}                                               }
</code></pre>
<p>If a <code>findOne</code> or <code>findUnique</code> for a non-nullable Prisma field return null for some reason (e.g. data corruption in the database) then the standard <a href="https://medium.com/@calebmer/when-to-use-graphql-non-null-fields-4059337f6fc8" target="_blank" rel="noreferrer" aria-selected="false">GraphQL <code>null</code> propagation</a> will kick in.</p>
<h3><span class="subheading-anchor -mt-20" id="prisma-client-rejectonnotfound-handling"></span><a href="#prisma-client-rejectonnotfound-handling">Prisma Client <code>rejectOnNotFound</code> Handling</a></h3>
<p>Prisma Client&#x27;s <a href="https://www.prisma.io/docs/reference/api-reference/prisma-client-reference#rejectonnotfound" target="_blank" rel="noreferrer" aria-selected="false"><code>rejectOnNotFound</code> feature</a> is effectively ignored by Nexus Prisma. For example if you <a href="https://www.prisma.io/docs/reference/api-reference/prisma-client-reference#enable-globally-for-findunique-and-findfirst" target="_blank" rel="noreferrer" aria-selected="false">set <code>rejectOnNotFound</code> globally on your Prisma Client</a> it will not effect Nexus Prisma when it uses Prisma Client. This is because Nexus Prisma <a href="https://www.prisma.io/docs/reference/api-reference/prisma-client-reference#remarks-2" target="_blank" rel="noreferrer" aria-selected="false">sets <code>rejectOnNotFound: false</code> for every <code>findUnique</code>/<code>findFirst</code></a> request it sends.</p>
<p>The reason for this design choice is that when Nexus Prisma&#x27;s logic is handling a GraphQL resolver that includes how to handle nullability issues which it has full knowledge about.</p>
<p>If you have a use-case for different behaviour <a href="https://github.com/prisma/nexus-prisma/issues/new?assignees=&amp;labels=type%2Ffeat&amp;template=10-feature.md&amp;title=Better%20rejectOnNotFound%20Handling" target="_blank" rel="noreferrer" aria-selected="false">please open a feature request</a>. Also, remember, you can always override the Nexus Prisma resolvers with your own logic (<a href="/recipes#project-relation-with-custom-resolver-logic">recipe</a>).</p>
<h3><span class="subheading-anchor -mt-20" id="related-issues"></span><a href="#related-issues">Related Issues</a></h3>
<ul>
<li><a href="https://github.com/prisma/nexus-prisma/issues/98" target="_blank" rel="noreferrer" aria-selected="false"><code>#98</code> Always set rejectOnNotFound to false</a></li>
</ul>
<h2><span class="subheading-anchor -mt-20" id="prisma-schema-docs-propagation"></span><a href="#prisma-schema-docs-propagation">Prisma Schema Docs Propagation</a></h2>
<h3><span class="subheading-anchor -mt-20" id="as-graphql-schema-doc"></span><a href="#as-graphql-schema-doc">As GraphQL schema doc</a></h3>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="prisma" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">/// A user.</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">/// A stable identifier to find users by.</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id  </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">@id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { User } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus-prisma&#x27;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { objectType } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus&#x27;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.$description </span><span style="color:var(--shiki-token-comment)">// JSDoc: A user.</span></span>
<span class="line"><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.</span><span style="color:var(--shiki-token-constant)">id</span><span style="color:var(--shiki-color-text)">.description </span><span style="color:var(--shiki-token-comment)">// JSDoc: A stable identifier to find users by.</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-function)">objectType</span><span style="color:var(--shiki-color-text)">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  name</span><span style="color:var(--shiki-token-keyword)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.$name</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  description: </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.$description</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">definition</span><span style="color:var(--shiki-color-text)">(t) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    t.field(User.id)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">})</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="graphql" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">A user.</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">type</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">  A stable identifier to find users by.</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">  &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id: </span><span style="color:var(--shiki-token-constant)">ID</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<h3><span class="subheading-anchor -mt-20" id="as-jsdoc"></span><a href="#as-jsdoc">As JSDoc</a></h3>
<p>Can be disabled in <a href="https://pris.ly/nexus-prisma/docs/settings/gentime" target="_blank" rel="noreferrer" aria-selected="false">gentime settings</a>.</p>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="prisma" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">/// A user.</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">User</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">/// A stable identifier to find users by.</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  id  </span><span style="color:var(--shiki-token-constant)">String</span><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">@id</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="ts" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">import</span><span style="color:var(--shiki-color-text)"> { User } </span><span style="color:var(--shiki-token-keyword)">from</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&#x27;nexus-prisma&#x27;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">User </span><span style="color:var(--shiki-token-comment)">// JSDoc: A user.</span></span>
<span class="line"><span style="color:var(--shiki-token-constant)">User</span><span style="color:var(--shiki-color-text)">.id </span><span style="color:var(--shiki-token-comment)">// JSDoc: A stable identifier to find users by.</span></span></code></pre></div>
<h3><span class="subheading-anchor -mt-20" id="rich-formatting"></span><a href="#rich-formatting">Rich Formatting</a></h3>
<p>It is possible to write multiline documentation in your Prisma Schema file. It is also possible to write markdown or whatever else you want.</p>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="prisma" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">/// # Foo   _bar_</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">/// qux</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">///</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">/// tot</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Foo</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">/// Foo   bar</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">/// qux</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">///</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">/// tot</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  foo  </span><span style="color:var(--shiki-token-constant)">String</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<p>However, you should understand the formatting logic Nexus Prisma uses as it may limit what you want to achieve. The current logic is:</p>
<ol>
<li>Strip newlines</li>
<li>Collapse multi-spaces spaces into single-space</li>
</ol>
<p>So the above would get extracted by Nexus Prisma as if it was written like this:</p>
<div data-rehype-pretty-code-fragment="" data-nextra-code=""><pre><code data-language="prisma" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">/// # Foo _bar_ qux tot</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">model</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Foo</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">/// Foo bar qux tot</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  foo  </span><span style="color:var(--shiki-token-constant)">String</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre></div>
<p>This formatting logic is conservative. We are open to making it less so, in order to support more expressivity. Please <a href="https://github.com/prisma/nexus-prisma/issues/new?assignees=&amp;labels=type%2Ffeat&amp;template=10-feature.md&amp;title=Better%20extraction%20of%20Prisma%20documentation" target="_blank" rel="noreferrer" aria-selected="false">open an issue</a> if you have an idea.</p>
<h2><span class="subheading-anchor -mt-20" id="esm-support"></span><a href="#esm-support">ESM Support</a></h2>
<p>Nexus Prisma supports both <a href="https://nodejs.org/api/esm.html" target="_blank" rel="noreferrer" aria-selected="false">ESM</a> and CJS. There shouldn&#x27;t be anything you need to &quot;do&quot;, things should &quot;just work&quot;. Here&#x27;s the highlights of how it works though:</p>
<ul>
<li>We publish both a CJS and ESM build to npm.</li>
<li>When the generator runs, it emits CJS code to the CJS build <em>and</em> ESM code to the ESM build.</li>
<li>Nexus Prisma CLI exists both in the ESM and CJS builds but its built to not matter which is used. That said, the package manifest is setup to run the CJS of the CLI and so that is what ends up being used in practice.</li>
</ul>
<h2><span class="subheading-anchor -mt-20" id="refined-dx"></span><a href="#refined-dx">Refined DX</a></h2>
<p>These are finer points that aren&#x27;t perhaps worth a top-level point but none the less add up toward a thoughtful developer experience.</p>
<h3><span class="subheading-anchor -mt-20" id="jsdoc"></span><a href="#jsdoc">JSDoc</a></h3>
<ul>
<li>Generated Nexus configuration for fields and models that you <em>have not</em> documented in your PSL get default JSDoc that teaches you how to do so.</li>
<li>JSDoc for Enums have their members embedded</li>
</ul>
<h3><span class="subheading-anchor -mt-20" id="default-runtime"></span><a href="#default-runtime">Default Runtime</a></h3>
<p>When your project is in a state where the generated Nexus Prisma part is missing (new repo clone, reinstalled deps, etc.) Nexus Prisma gives you a default runtime export named <code>PleaseRunPrismaGenerate</code> and will error with a clear message.</p>
<h3><span class="subheading-anchor -mt-20" id="peer-dependency-validation"></span><a href="#peer-dependency-validation">Peer-Dependency Validation</a></h3>
<p>When <code>nexus-prisma</code> is imported it will validate that your project has peer dependencies setup correctly.</p>
<p>If a peer dependency is not installed it <code>nexus-prisma</code> will log an error and then exit 1. If its version does not satify the range supported by the current version of <code>nexus-prisma</code> that you have installed, then a warning will be logged. If you want to opt-out of this validation (e.g. you&#x27;re <a href="/notes#disable-peer-dependency-check">using a bundler</a>) then set an envar as follows:</p>
<pre><code>NO_PEER_DEPENDENCY_CHECK=true|1
PEER_DEPENDENCY_CHECK=false|0
</code></pre>
<h3><span class="subheading-anchor -mt-20" id="auto-import-optimized"></span><a href="#auto-import-optimized">Auto-Import Optimized</a></h3>
<ul>
<li><code>nexus-prisma/scalars</code> offers a default export you can easily auto-import by name: <code>NexusPrismaScalars</code>.</li>
</ul><div class="mt-16"></div><div class="nextra-navigation-links mb-8 flex flex-row items-center justify-between border-t pt-8 dark:border-neutral-800"><div class="flex min-w-0 flex-1 justify-start"><a title="Usage" class="-m-4 flex items-center rounded p-4 text-base font-medium text-gray-600 no-underline transition-colors hover:text-primary-500 dark:text-gray-300 dark:hover:text-primary-500 md:text-lg mr-2" href="/docs/usage"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" height="20" class="inline flex-shrink-0 transform mr-1 rotate-180"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>Usage</a></div><div class="flex min-w-0 flex-1 justify-end"><a title="Gentime" class="-m-4 inline-flex items-center justify-end rounded p-4 text-base font-medium text-gray-600 no-underline transition-colors hover:text-primary-500 dark:text-gray-300 dark:hover:text-primary-500 md:text-lg ml-2" href="/docs/settings/gentime">Gentime<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" height="20" class="inline flex-shrink-0 transform ml-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></div></div></main></article></div></div><footer class="bg-gray-100 pb-[env(safe-area-inset-bottom)] dark:bg-neutral-900"><div class="hidden border-b py-2 dark:border-neutral-800 md:block md:hidden"><div class="mx-auto max-w-[90rem]"><div class="inline-flex px-4"><div class="relative grow-0"><button class="h-7 w-full cursor-pointer rounded-md px-2 text-left text-xs font-medium text-gray-600 transition-colors focus:outline-none dark:text-gray-400 hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-primary-100/5 dark:hover:text-gray-50" id="headlessui-listbox-button-:R6j56:" type="button" aria-haspopup="true" aria-expanded="false"><div class="flex items-center gap-2 capitalize"><svg fill="none" viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" class="h-4 w-4 [&amp;&gt;path]:fill-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span>light</span></div></button></div></div></div></div><div class="mx-auto max-w-[90rem] py-12 pl-[max(env(safe-area-inset-left),1.5rem)] pr-[max(env(safe-area-inset-right),1.5rem)]"><div class="flex flex-col-reverse items-center justify-between md:flex-row md:items-end"><span class="text-gray-600 dark:text-gray-400">MIT 2022 © Prisma Data Inc.</span><div class="mt-6"></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/docs/features","query":{},"buildId":"zDVHEP4AneaV3B74jEYak","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>